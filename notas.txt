diagramas de flujo
--------------------------------------------------------------------------------------------------------------------------
tienda.js + tienda.html=

[DOM listo en tienda.html]
        |
        v
 setCarrito( dedupeCarrito(getCarrito()) )   --> limpia duplicados en LS
        |
        v
 actualizarNumeritoHeader()                  --> actualizamos numerito con LS
        |
        v
 Â¿#cards-container existe? --no--> [fin]
        |
       sÃ­ --> mostramos las cards
        |
        v
 fetch("../json/productos.json") --> traemos los productos
        |
        v
 res.json()  --> productos[]   --> convierte la resp a formato legible 
        |
        v
 mostramos cards en #cards-container
 (img, nombre, precio, tipos, botÃ³n .producto-agregar data-id)
        |
        v
 [DelegaciÃ³n de click en #cards-container]
        |
        v
 Â¿click en .producto-agregar?
        | no
        v
      (ignora)
        | sÃ­
        v
 id = data-id --> traemos los datos de id correcto
 prod = productos.find(p.id == id)
        |
        v
 agregarAlCarritoPorId(id, productos)
        |
        v
   - lee carrito (LS)
   - si existe: +1 cantidad
   - sino: push {id, nombre, precio, imagen, cantidad:1}
   - carrito = dedupeCarrito(carrito)
   - setCarrito(carrito)
   - actualizarNumeritoHeader()
   - Toastify â€œagregadoâ€ (si estÃ¡ cargado)
        |
        v
[fin interacciÃ³n en tienda]

--------------------------------------------------------------------------------------------------------------------------

carrito.js + carrito.html= 

[al cargar carrito.html]
        |
        v
 setCarrito( dedupeCarrito(getCarrito()) )   --> Obtiene el carrito desde LocalStorage, elimina duplicados y lo vuelve a guardar limpio
        |
        v
 cargarProductosCarrito()  -->  Muestra en la pÃ¡gina los productos del carrito y actualiza la interfaz
        |
        v
 productosEnCarrito = dedupeCarrito(getCarrito()) --> Crea una copia del carrito sin duplicados y la guarda en la variable global
 setCarrito(productosEnCarrito) --> Guarda en LocalStorage esa versiÃ³n limpia del carrito
        |
        v
 Â¿productosEnCarrito.length > 0?
   |                                     |
  no                                    sÃ­
   |                                     |
   v                                     v
 mostrar #carrito-vacio                  ocultar #carrito-vacio
 ocultar #carrito-productos              mostrar #carrito-productos
 ocultar #carrito-acciones               mostrar #carrito-acciones
 ocultar #carrito-comprado               ocultar #carrito-comprado
   |                                     |
   v                                     v
 actualizarBotonesEliminar()             vaciar innerHTML #carrito-productos
 actualizarTotal()                       forEach producto => render card:
 actualizarNumeritoHeader()              (img, nombre, cantidad, precio, subtotal,
   |                                      botÃ³n .carrito-producto-eliminar data-id)
   +--------------------------------------+--> append a #carrito-productos
                                             |
                                             v
                                   actualizarBotonesEliminar()
                                   actualizarTotal()
                                   actualizarNumeritoHeader()
                                             |
                                             v
                                   [Listo para eventos]

Eventos:
1- BotÃ³n ğŸ—‘ (.carrito-producto-eliminar)
   - id = data-id
   - c = getCarrito()
   - idx = findIndex por id
   - si existe: c.splice(idx,1), setCarrito(c), cargarProductosCarrito()

2- BotÃ³n â€œVaciar carritoâ€
   - setCarrito([])
   - cargarProductosCarrito()

3- BotÃ³n â€œComprarâ€
   - c = getCarrito(); si vacÃ­o: return
   - setCarrito([]); limpiar #carrito-productos
   - ocultar acciones + vacÃ­o; mostrar #carrito-comprado
   - actualizarTotal()
   - actualizarNumeritoHeader()
   - (opcional) Toastify â€œÂ¡Gracias por tu compra!â€

-----------------------------------------------------------------------------------------------------------------------------

------------------------
Flujo general del sitio=
------------------------

[Usuario llega a cualquier pÃ¡gina]
        |
        v
 dedupe + setCarrito (si aplica)  -> el LS siempre queda â€œlimpioâ€
        |
        v
 actualizarNumeritoHeader()       -> badge del header muestra cantidad de Ã­tems 
        |
        +-----------------------------+
        |                             |
        v                             v
   (Tienda)                       (Carrito)
   - Carga JSON                   - Lee LS y renderiza
   - Render cards                 - Muestra lista o â€œvacÃ­oâ€
   - Click â€œAgregarâ€              - Calcula subtotal/total
     -> agrega/actualiza          - BotÃ³n eliminar / vaciar / comprar
     -> dedupe + setCarrito       - Tras cada cambio -> setCarrito + re-render
     -> actualizarNumeritoHeader  - actualizarTotal + actualizarNumeritoHeader
     -> Toastify â€œagregadoâ€       - (opcional) Toastify â€œcompraâ€
        |
        v
[Usuario navega a Carrito]
        |
        v
 cargarProductosCarrito() -> render segÃºn LS + actualizarNumeritoHeader()
